<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Profit Game - Professional Banking</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#020617">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;900&display=swap" rel="stylesheet">
</head>

<body style="margin:0; background:#020617; font-family: 'Tajawal', sans-serif; overflow-x:hidden;">

    <!-- Auth Overlay -->
    <div id="auth-overlay" class="overlay">
        <div class="auth-box">
            <h1 class="logo">AR GAME <span style="font-size:0.4em; color:var(--gold)">v4.0</span></h1>
            <p style="font-size:0.6rem; opacity:0.3; text-align:center; margin-bottom:10px;">PREMIUM ENCRYPTED EDITION
            </p>

            <div id="login-form-container">
                <h2>ุชุณุฌูู ุงูุฏุฎูู</h2>
                <form id="login-form">
                    <div class="input-group">
                        <input type="text" id="loginIdentifier" placeholder=" " required>
                        <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                    </div>
                    <div class="input-group">
                        <input type="password" id="loginPassword" placeholder=" " required>
                        <label>ูููุฉ ุงููุฑูุฑ</label>
                    </div>
                    <button type="submit" class="submit-btn">ุฏุฎูู ุขูู</button>

                    <div style="margin-top:20px; border-top:1px solid #333; padding-top:20px; text-align:center;">
                        <button type="button" id="reset-system-btn"
                            style="background:none; color:var(--gold-dim); border:none; border-bottom:1px solid #333; font-size:0.6rem; cursor:pointer; opacity:0.5;">ุชุตููุฑ
                            ุงููุธุงู (System Reset)</button>
                    </div>
                    <div style="margin-top:20px; border-top:1px solid #333; padding-top:10px">
                        <button type="button" id="demo-btn" class="demo-btn">ุชุฌุฑุจุฉ ุงููุธุงู (Demo)</button>
                    </div>
                </form>
                <div class="auth-actions">
                    <button id="show-register-btn" class="link-btn">ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ</button>
                </div>
            </div>

            <div id="register-form-container" style="display:none;">
                <h2>ุชุณุฌูู ุนุถููุฉ ุฌุฏูุฏุฉ</h2>
                <form id="register-form">
                    <div class="row">
                        <input type="text" id="firstName" placeholder="ุงูุงุณู ุงูุฃูู" required>
                        <input type="text" id="lastName" placeholder="ุงูุงุณู ุงูุฃุฎูุฑ" required>
                    </div>
                    <input type="email" id="email" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" required>
                    <input type="password" id="password" placeholder="ูููุฉ ุงููุฑูุฑ" required>
                    <button type="submit" class="submit-btn neon">ุชุณุฌูู</button>
                </form>
                <div class="auth-actions">
                    <button id="show-login-btn" class="link-btn">ุงูุนูุฏุฉ ูุชุณุฌูู ุงูุฏุฎูู</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Offline Overlay (Blocks usage) -->
    <div id="offline-overlay" class="overlay" style="display:none; z-index:10000; background:rgba(0,0,0,0.95);">
        <div style="text-align:center; color:white;">
            <div style="font-size:4rem;">๐ก</div>
            <h2>ุงููุทุน ุงูุงุชุตุงู</h2>
            <p>ูุฐู ุงููุนุจุฉ ุชุชุทูุจ ุงุชุตุงูุงู ุฏุงุฆูุงู ุจุงูุฅูุชุฑูุช.</p>
            <p style="color:#f59e0b; margin-top:10px;">ุฌุงุฑู ูุญุงููุฉ ุฅุนุงุฏุฉ ุงูุงุชุตุงู...</p>
        </div>
    </div>

    <!-- Main Game Interface -->
    <div id="game-ui" style="display:none;">
        <header class="top-bar">
            <div class="user-block">
                <div class="avatar" id="admin-trigger-icon"
                    style="border-color: var(--gold); color: var(--gold); cursor:pointer;" title="Admin Access">๐ฑ</div>
                <div class="info">
                    <span id="user-name"
                        style="font-family: 'Playfair Display', serif; color: var(--gold); font-size: 1.1rem;">VIP
                        Guest</span>
                    <span id="account-id" style="font-size:0.7rem; opacity:0.4;">MEMBER SINCE 2025</span>
                </div>
            </div>

            <div class="top-actions" style="display:flex; align-items:center; gap:10px;">


                <div class="balance-card">
                    <div class="balance-info">
                        <small
                            style="display:block; font-size:0.6rem; opacity:0.6; text-align:right; color: var(--gold-dim)">ุงูุญุณุงุจ
                            ุงูุจูุงุชููู</small>
                        <div class="value">
                            <span id="balance-amount">0</span>
                            <small style="font-size:0.7rem">SYP</small>
                        </div>
                        <div id="energy-display" style="font-size: 0.8rem; margin-top: 5px; color: #fff;"></div>
                    </div>
                    <button id="open-bank-btn" class="deposit-icon-btn" title="Purchase Credits">+</button>
                </div>

                <button id="logout-btn" class="icon-btn"
                    style="background:none; border:none; color:var(--gold-dim); font-size:1.5rem; cursor:pointer;"
                    title="Secure Sign Out">โป</button>
            </div>
        </header>

        <main class="game-container">
            <div id="plinko-board-container">
                <div id="plinko-board"></div>
            </div>

            <div id="betting-sections"></div>
        </main>

        <section class="controls-bar">
            <div class="bet-control">
                <button id="decrease-bet" class="adj">โ</button>
                <div style="text-align:center">
                    <small style="display:block; font-size:0.6rem; opacity:0.6">ูุจูุบ ุงูุฑูุงู</small>
                    <span id="current-bet" style="font-weight:900; font-size:1.2rem; color:var(--neon-blue)">5000</span>
                </div>
                <button id="increase-bet" class="adj">+</button>
            </div>

            <button id="drop-ball-btn" class="play-btn">ุงูุนุจ ุงูุขู</button>
        </section>
    </div>

    <!-- Realistic Banking Portal -->
    <div id="banking-modal" class="modal" style="display:none;">
        <div class="banking-portal">
            <aside class="portal-sidebar">
                <h3 style="font-family: 'Playfair Display', serif; color: var(--gold); margin-bottom: 20px;">ุงููุญูุธุฉ
                    ุงูููููุฉ</h3>
                <div class="nav-item active" data-view="deposit" onclick="switchView('deposit')">
                    <span class="icon">๐ฅ</span> ุฅูุฏุงุน ุฑุตูุฏ
                </div>
                <div class="nav-item" data-view="withdraw" onclick="switchView('withdraw')">
                    <span class="icon">๐ค</span> ุณุญุจ ุฃุฑุจุงุญ
                </div>
                <div class="nav-item" data-view="history" onclick="switchView('history')">
                    <span class="icon">๐</span> ุณุฌู ุงูุนูููุงุช
                </div>
                <!-- Admin Only Tab -->
                <div id="admin-tab" class="nav-item" data-view="admin"
                    onclick="switchView('admin'); renderAdminPanel();"
                    style="display:none; color:var(--gold); border-top: 1px solid #222; margin-top: 20px;">
                    <span class="icon">๐ก๏ธ</span> ููุญุฉ ุงูุฅุฏุงุฑุฉ
                </div>

                <div class="portal-balance" style="margin-top:auto; padding-top:20px; border-top:1px solid #111;">
                    <small style="opacity:0.5;">ุงูุฑุตูุฏ ุงููุงุจู ููุนุจ</small>
                    <div id="portal-balance" style="color:var(--gold); font-weight:900; font-size:1.2rem;">0 SYP</div>
                </div>
                <button class="close-modal-btn"
                    style="width:100%; margin-top:20px; background:none; border:1px solid #333; color:white; padding:10px; cursor:pointer;">ุฅุบูุงู</button>
            </aside>

            <div class="portal-content">
                <!-- Deposit View -->
                <section id="view-deposit" class="view-section">
                    <h2 class="lux-title">ุฅูุฏุงุน ุฑุตูุฏ VIP</h2>
                    <div class="steps-indicator">
                        <div class="step active">1. ุงูุทุฑููุฉ</div>
                        <div class="step">2. ุงูุชุญููู</div>
                        <div class="step">3. ุงูุชุฃููุฏ</div>
                    </div>

                    <div id="deposit-step-1" class="step-content">
                        <div class="methods-grid">
                            <div class="payment-card" onclick="startDeposit('SyriaCash')">
                                <span class="badge">ุงูุฃุณุฑุน</span>
                                <div class="icon sc">SC</div>
                                <h4>SyriaTel Cash</h4>
                                <p>ููุฑู - 30 ุฏูููุฉ</p>
                            </div>
                            <div class="payment-card" onclick="startDeposit('ShamCash')">
                                <div class="icon sh">SH</div>
                                <h4>Sham Cash</h4>
                                <p>ููุฑู - 30 ุฏูููุฉ</p>
                            </div>
                        </div>
                    </div>

                    <div id="deposit-step-2" class="step-content" style="display:none;">
                        <div class="transfer-box"
                            style="padding:15px; border:1px solid var(--gold-dim); background:#111; margin-bottom:20px;">
                            <p class="instruction" style="margin-bottom:10px; font-weight:700;">ุฎุทูุงุช ุงูุฅูุฏุงุน ุนุจุฑ
                                SyriaTel Cash:</p>
                            <ol style="font-size:0.8rem; text-align:right; margin-bottom:15px; opacity:0.8;">
                                <li>ุงูุชุญ ุชุทุจูู SyriaTel Cash</li>
                                <li>ุงุฎุชุฑ "ุฅุฑุณุงู / ุฏูุน"</li>
                                <li>ุฃุฏุฎู ุฑูู ุงููุญูุธุฉ ุฃุฏูุงู</li>
                            </ol>
                            <div class="copy-box"
                                style="display:flex; justify-content:space-between; align-items:center; background:#000; padding:10px; border-radius:5px;">
                                <span id="company-account" class="code"
                                    style="font-size:1.5rem; color:var(--gold); font-weight:900;">67457101</span>
                                <button class="copy-btn"
                                    style="background:var(--gold); border:none; padding:5px 10px; cursor:pointer; font-weight:700;">ูุณุฎ</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>ุงููุจูุบ ุงููุฑุงุฏ ุดุญูู (SYP)</label>
                            <input type="number" id="dep-amount" placeholder="ุงูุญุฏ ุงูุฃุฏูู 2,000" class="lux-input">
                            <input type="hidden" id="dep-method">
                        </div>
                        <button class="lux-btn-gold" style="margin-top:15px;" onclick="goToDepositStep(3)">ุงููุชุงุจุนุฉ
                            ููุชุฃููุฏ โ</button>
                        <button class="back-text-btn"
                            style="margin-top:10px; width:100%; background:none; border:none; color:white; cursor:pointer; opacity:0.5;"
                            onclick="goToDepositStep(1)">ุชุบููุฑ ุงูุทุฑููุฉ</button>
                    </div>

                    <div id="deposit-step-3" class="step-content" style="display:none;">
                        <h3 style="color:var(--gold);">ุชุฃููุฏ ุนูููุฉ ุงูุชุญููู</h3>
                        <p style="font-size:0.8rem; opacity:0.7; margin-bottom:15px;">ูุฑุฌู ุชุฒููุฏูุง ุจุจูุงูุงุช ุงูุนูููุฉ
                            ููุทุงุจูุชูุง ููุฑุงู:</p>

                        <div class="form-group" style="margin-bottom:15px;">
                            <label>ุฑูู ุงูุนูููุฉ (Transaction ID)</label>
                            <input type="text" id="dep-txn-id" placeholder="ุฃุฏุฎู ุฑูู ุงูุนูููุฉ ุงููููู ูู ุฃุฑูุงู"
                                class="lux-input">
                        </div>

                        <div class="form-group" style="margin-bottom:20px;">
                            <label>ุฅุดุนุงุฑ ุงูุฏูุน (ุตูุฑุฉ ุงูุฅูุตุงู)</label>
                            <div id="dep-upload-zone"
                                style="border:2px dashed #333; padding:20px; text-align:center; cursor:pointer; border-radius:10px;">
                                <div id="dep-upload-status" style="font-size:0.8rem; opacity:0.5;">ุงุถุบุท ูุฑูุน ุตูุฑุฉ
                                    ุงูุฅูุตุงู ๐ธ</div>
                                <input type="file" id="dep-proof-img" style="display:none;" accept="image/*">
                            </div>
                        </div>

                        <button class="lux-btn-gold" onclick="submitDeposit()">ุชุฃููุฏ ูุฅุฑุณุงู ุงูุทูุจ</button>
                        <button class="back-text-btn"
                            style="margin-top:10px; width:100%; background:none; border:none; color:white; cursor:pointer;"
                            onclick="goToDepositStep(2)">ุชุนุฏูู ุงูุจูุงูุงุช</button>
                    </div>
                </section>

                <!-- Withdraw View -->
                <section id="view-withdraw" class="view-section" style="display:none;">
                    <h2 class="lux-title">ุณุญุจ ุฃุฑุจุงุญู</h2>
                    <div id="withdraw-step-1">
                        <div class="methods-grid">
                            <div class="payment-card" onclick="startWithdraw('SyriaCash')">
                                <div class="icon sc">SC</div>
                                <h4>SyriaTel Cash</h4>
                                <p>ูุฑุงุฌุนุฉ ูุฏููุฉ</p>
                            </div>
                        </div>
                    </div>
                    <div id="withdraw-step-2" style="display:none; margin-top:20px;">
                        <div class="input-card">
                            <label>ุฑูู ุงูุญุณุงุจ ุงููุณุชูู</label>
                            <input type="text" id="with-account" placeholder="09xxxxxxxx" class="lux-input">
                            <label style="margin-top:15px; display:block;">ุงููุจูุบ ุงููุฑุงุฏ ุณุญุจู</label>
                            <input type="number" id="with-amount" placeholder="10000" class="lux-input">
                            <input type="hidden" id="with-method">
                        </div>
                        <button class="lux-btn-gold" style="margin-top:20px;" onclick="submitWithdraw()">ุชุฃููุฏ ุทูุจ
                            ุงูุณุญุจ</button>
                    </div>
                </section>

                <!-- History View -->
                <section id="view-history" class="view-section" style="display:none;">
                    <h2 class="lux-title">ุณุฌู ุงูุนูููุงุช</h2>
                    <div id="txn-list" style="max-height: 400px; overflow-y: auto;"></div>
                </section>

                <!-- Admin Dashboard View (Dedicated Page) -->
                <section id="view-admin" class="view-section" style="display:none;">
                    <div class="admin-header">
                        <h2 style="margin:0; color:var(--gold);">๐ก๏ธ ููุญุฉ ุชุญูู ุงููุฏูุฑ ุงููุณุคุคู</h2>
                        <button onclick="closeAdminView()"
                            style="background:none; border:1px solid var(--gold); color:var(--gold); padding:5px 15px; cursor:pointer; font-weight:700;">ุฅุบูุงู
                            ูุงูุนูุฏุฉ ููุนุจุฉ</button>
                    </div>

                    <div class="admin-stats-bar" style="display:flex; gap:20px; margin-bottom:30px;">
                        <div style="flex:1; background:#111; padding:20px; border-left:4px solid var(--gold);">
                            <small style="opacity:0.6">ุฅุฌูุงูู ุงูุฅูุฏุงุนุงุช ุงููุนููุฉ</small>
                            <div id="admin-pending-count" style="font-size:1.5rem; font-weight:900;">0</div>
                        </div>
                        <button onclick="renderAdminPanel()"
                            style="background:var(--gold); border:none; padding:10px 20px; font-weight:900; cursor:pointer; height:fit-content; align-self:center;">๐
                            ุชุญุฏูุซ ุงูุจูุงูุงุช</button>
                    </div>

                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>ุงููุณุชุฎุฏู</th>
                                    <th>ุงููุจูุบ</th>
                                    <th>ุงููุณููุฉ</th>
                                    <th>ุงูุญุงูุฉ</th>
                                    <th>ุงูุฅุฌุฑุงุก</th>
                                </tr>
                            </thead>
                            <tbody id="admin-txn-body">
                                <!-- Transactions will be injected here -->
                            </tbody>
                        </table>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <!-- Core Dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="script.js"></script>
</body>

</html>
```